# Промежуточные обработчики



⬅️ **Подробную информацию обо всех маршрутах смотреть в разделе [Маршрутизация](routes.md)**  <br/> 
⬅️ **Подробную информацию обо всех контроллерах смотреть в разделе [Контроллеры](controllers.md)**  <br/> 
⬅️ **Подробную информацию обо всех контроллерах смотреть в разделе [Представления](views.md)**  
↩️ [К оглавлению документации](../README.md) <br/> 

## Оглавление подраздела

- [Структура промежуточных обработчиков](#)
- [Глобальные промежуточные обработчики](#)
  - [authentificationMiddleware](#)
  - [userSessionMiddleware](#)
  - [fileMiddleware](#)
  - [errorHandler](#)
- [Локальные промежуточные обработчики](#)
  - [auth](#)
  - [registerValidators](#)
  - [courseValidators](#)


## Структура промежуточных обработчиков



## Глобальные промежуточные обработчики

Глобальные промежуточные обработчики:
|          Функция    -      | Пакет npm |                        Короткое описание                         |
| :------------------------: | :-------: | :--------------------------------------------------------------: |
| authentificationMiddleware |   crsf    | Определяет наличие crsf токен, как определение прав пользователя |
|   userSessionMiddleware    |  session  |   Определяет и сохраняет данные сессий отдельных пользователей   |
|       fileMiddleware       |  multer   |                Загрузка определенных типов файлов                |
|        errorHandler        |     -     |              В случае ошибки - отправка страницы 404             |




### authentificationMiddleware





### userSessionMiddleware



### fileMiddleware



### errorHandler



## Локальные промежуточные обработчики

Локальные промежуточные обработчики:
|      Функция       |     Пакет npm     |                         Короткое описание                         |
| :----------------: | :---------------: | :---------------------------------------------------------------: |
|         auth       |      session      | Если пользователь зарегестирован - доступ есть, иначе доступа нет |
| registerValidators | express-validator |           Проверяет правильность данных при регистрации           |
|  courseValidators  | express-validator |          Проверяет правильность данных при создании курса         |

### auth



### registerValidators



### courseValidators
















-----------------------------------------------------------------------------------------------------------------------------------------------------------------

## SendGrid


Все почтовые письма: 
|         Тип письма        |                        Задача письма                         |
| :-----------------------: | :----------------------------------------------------------: |
| Подтверждение регистрации | Уведомить пользователя об подтверждении успешной регистрации |
|   Восстановление пароля   | Прислать токен с ограниченным сроком жизни для смены пароль  |

-----------------------------------------------------------------------------------------------------------------------------------------------------------------
